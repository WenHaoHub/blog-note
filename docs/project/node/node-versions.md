# 团队项目统一 Node 版本

## **为何统一 Node 版本**

Node.js 作为前端开发的基石，版本不一致可能带来依赖库兼容性问题、开发环境与生产环境的不匹配等问题

## **Node.js 版本管理工具**

基本都会安装如`nvm`这样的 Node.js 版本管理工具来切换不同项目的不同版本

## Node 版本一致性**方法**

1.  **`package.json`的`engines`字段**：可指定所需的 Node 版本或版本范围

```json
// 指定特定版本号
"engines": {
  "node": "14.17.0"
}

// 范围符号：表示项目需要Node版本大于等于12.0.0且小于16.0.0。
"engines": {
  "node": ">=12.0.0 <16.0.0"
}

// 波浪线符号：表示项目需要Node版本为14.17.x
"engines": { "node": "~14.17.0" }

// 插入符号：表示项目需要Node版本为14.x.x
"engines": { "node": "^14.17.0" }
```

2.  **使用`.npmrc`文件**

    :::warning 注意点

    engines` 只是建议，默认不开启严格版本校验，只会给出提示，需要手动开启严格模式

    在根目录下添加`engine-strict = true`来开启严格模式，进行 Node 版本的强制限制

```shell
# .npmrc
engine-strict = true
```

3. **使用.mvmrc 文件**

   如需要自动使用`nvm`切换指定版本，我们可以创建一个`.nvmrc`文件， 指定项目 `Node` 版本

   ```sh
   # .nvmrc
   v14.17.5
   ```

   此时，执行`nvm use` 自动就切换到项目执行的 `Node` 版本 ,`.nvmrc`文件是一个存放指定 `Node` 版本的配置文件，可以告诉项目的成员应该使用哪个`Node` 版本来运行项目。如果我们没有安装对应版本的 `Node` ，执行时也会提示没有安装
